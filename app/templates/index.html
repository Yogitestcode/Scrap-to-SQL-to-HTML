<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Books to Scrape</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Books to Scrape</h1>
    <form method="POST" action="/">
        <label for="search_query">Search:</label>
        <input type="text" id="search_query" name="search_query" value="{{ search_query }}">
        <button type="submit">Search</button>
    </form>

    <h2>Add a New Book</h2>
    <form method="POST" action="/add">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>
        <label for="price">Price:</label>
        <input type="text" id="price" name="price" required>
        <label for="availability">Availability:</label>
        <input type="text" id="availability" name="availability" required>
        <button type="submit">Add Book</button>
    </form>

    <h2>Update a Book</h2>
    <form method="POST" action="/update">
        <label for="id">Book ID:</label>
        <input type="number" id="id" name="id" required>
        <label for="title">New Title:</label>
        <input type="text" id="title" name="title" required>
        <label for="price">New Price:</label>
        <input type="text" id="price" name="price" required>
        <label for="availability">New Availability:</label>
        <input type="text" id="availability" name="availability" required>
        <button type="submit">Update Book</button>
    </form>

    <table>
        <tr>
            <th>Title</th>
            <th>Price</th>
            <th>Availability</th>
            <th>Actions</th>
        </tr>
        {% for book in books %}
        <tr>
            <td>{{ book['id']}}</td>
            <td>{{ book['title'] }}</td>
            <td>{{ book['price'] }}</td>
            <td>{{ book['availability'] }}</td>
            <td>
                <form action="/delete/{{ book['id'] }}" method="POST" style="display:inline;">
                    <button type="submit">Delete</button>
                </form>
                <form action="/update/{{ book['id'] }}" method="GET" style="display:inline;">
                    <button type="submit">Update</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
